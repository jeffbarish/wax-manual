<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Appendix &#8212; Wax 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=cb25574f" />
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Edit Mode" href="edit.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <span class="target" id="appendix"><span id="index-0"></span></span><section id="id1">
<h1>Appendix<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h1>
<section id="unicode">
<span id="entering-unicode"></span><span id="index-1"></span><h2>Unicode<a class="headerlink" href="#unicode" title="Link to this heading">¶</a></h2>
<p>To enter Unicode characters in your metadata manually (rather than with the <a class="reference internal" href="edit.html#unicode-keyboard"><span class="std std-ref">Unicode keyboard</span></a>), you need to use a special sequence of keystrokes. There are two options. Choose the one that is more comfortable for you.</p>
<p><strong>Method 1</strong>:</p>
<p>Type (and release) ctrl-shift-u, code, {enter,space}</p>
<p>{enter,space} means that you can type either enter or space. You do not need to type leading zeros in the code. If the code is 00e9, you can type just e9. The characters that you type for the code turn into the desired Unicode character when you type enter or space.</p>
<p><strong>Method 2</strong>:</p>
<p>Press (and hold) ctrl-shift, u, code, release ctrl-shift</p>
<p>Again, you do not need to type leading zeros. The characters that you type for the code turn into the desired Unicode character when you release ctrl-shift.</p>
<p>To find the code for the Unicode character that you want, use a table such as this one: <a class="reference external" href="http://www.utf8-chartable.de/unicode-utf8-table.pl?number=1024">Unicode-table</a>. The code that you need is the numeric portion of the Unicode code point (the portion after “U+”).</p>
<p>Here are some characters that you might need:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>code</p></th>
<th class="head"><p>character</p></th>
<th class="head"><p>code</p></th>
<th class="head"><p>character</p></th>
<th class="head"><p>code</p></th>
<th class="head"><p>character</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>00e0</p></td>
<td><p>à</p></td>
<td><p>00e1</p></td>
<td><p>á</p></td>
<td><p>00e2</p></td>
<td><p>â</p></td>
</tr>
<tr class="row-odd"><td><p>00e4</p></td>
<td><p>ä</p></td>
<td><p>00e8</p></td>
<td><p>è</p></td>
<td><p>00e9</p></td>
<td><p>é</p></td>
</tr>
<tr class="row-even"><td><p>00ea</p></td>
<td><p>ê</p></td>
<td><p>00eb</p></td>
<td><p>ë</p></td>
<td><p>00f1</p></td>
<td><p>ñ</p></td>
</tr>
<tr class="row-odd"><td><p>00f2</p></td>
<td><p>ò</p></td>
<td><p>00f3</p></td>
<td><p>ó</p></td>
<td><p>00f4</p></td>
<td><p>ô</p></td>
</tr>
<tr class="row-even"><td><p>00f5</p></td>
<td><p>õ</p></td>
<td><p>00f6</p></td>
<td><p>ö</p></td>
<td><p>00f9</p></td>
<td><p>ù</p></td>
</tr>
<tr class="row-odd"><td><p>00fa</p></td>
<td><p>ú</p></td>
<td><p>00fb</p></td>
<td><p>û</p></td>
<td><p>00fc</p></td>
<td><p>ü</p></td>
</tr>
</tbody>
</table>
</section>
<section id="completers-files">
<span id="id2"></span><h2>Completers files<a class="headerlink" href="#completers-files" title="Link to this heading">¶</a></h2>
<p>Wax provides <a class="reference internal" href="edit.html#autocompletion"><span class="std std-ref">automatic completion</span></a> of values you type into metadata fields. Predefined completion values are stored in files in the directory ~/.config/completers. The name of a file corresponds to the key to which the values should be applied. Initially, Wax provides several completers files, including composer, conductor, and orchestra. To create your own completers, use WaxConfig. You can also use a text editor to specify values (one on each line). Wax ignores blank lines and lines that start with # (to signify a comment). When you create or modify a completers file, you must restart Wax before it will know about the new file.</p>
</section>
<section id="database-organization">
<h2>Database organization<a class="headerlink" href="#database-organization" title="Link to this heading">¶</a></h2>
<p id="sound-folder">Directories are structured as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recordings</span>
          \<span class="n">_sound</span>
                 \<span class="n">_uuid1</span>
                        \<span class="n">_0</span>
                        \<span class="n">_1</span>
                        \<span class="n">_</span><span class="o">...</span>
                 \<span class="n">_uuid2</span>
                        \<span class="n">_0</span>
                 \<span class="n">_</span><span class="o">...</span>

          \<span class="n">_metadata</span>
                    \<span class="n">_short</span>
                           \<span class="n">_Genre1</span>
                           \<span class="n">_Genre2</span>
                           \<span class="n">_</span><span class="o">...</span>
                    \<span class="n">_long</span>
                    \<span class="n">_config</span>
                    \<span class="n">_completers</span>

          \<span class="n">_images</span>
                  \<span class="n">_uuid1</span>
                  \<span class="n">_uuid2</span>
                  \<span class="n">_</span><span class="o">...</span>

          \<span class="n">_documents</span>
                     \<span class="n">_uuid1</span>
                     \<span class="n">_uuid2</span>
                     \<span class="n">_</span><span class="o">...</span>
</pre></div>
</div>
<p>On selection of a genre, Wax loads the contents of the short file with the genre as its name. Each line of the short file provides short metadata, a uuid, and a work number (work_num). When the user selects a recording, Wax uses the uuid and work_num to access the corresponding entry in the file “long” which contains long metadata for all recordings in the archive. All siblings have the same uuid, so the uuid is sufficient to access corresponding images, documents, and sound files in their respective directories. The sound directory is further divided by disc number.</p>
</section>
<section id="disk-mounts">
<h2>Disk mounts<a class="headerlink" href="#disk-mounts" title="Link to this heading">¶</a></h2>
<p>The simplest configuration for disk mounts is for the entire recordings hierarchy to reside on your system disk. However, that disk must have capacity sufficient for the database. 2TB is sufficient for a large collection. It is possible to find a 2TB SSD for $100, so this simple solution will be adequate for most users.</p>
<p>If you already have your system installed on a smaller disk, you could add an SSD to your system and mount it on the <code class="code docutils literal notranslate"><span class="pre">recordings</span></code> directory.</p>
<p>You can save a few dollars by choosing a HDD instead of an SSD, but a HDD adds complications. Allowing the HDD to spin all the time will shorten its lifespan. You can configure it to spin down after a period of inactivity using <code class="code docutils literal notranslate"><span class="pre">/etc/hdparm</span></code>, but you then have to wait for it to spin up when you need to access it. One option to minimize this annoyance is to use the HDD only for sound files and mount it on the <code class="code docutils literal notranslate"><span class="pre">sound</span></code> directory. The data in the other subdirectories of <code class="code docutils literal notranslate"><span class="pre">recordings</span></code> (<code class="code docutils literal notranslate"><span class="pre">metadata</span></code>, <code class="code docutils literal notranslate"><span class="pre">images</span></code>, and <code class="code docutils literal notranslate"><span class="pre">documents</span></code>) is typically much smaller, so there is probably sufficient space on your system drive (which presumably is an SSD). You can browse your collection in Select and Play modes without accessing sound files, so you will have to wait for the HDD to spin up (2-5 seconds typically, depending on the size of the HDD) only when you activate play.</p>
<p>Also remember that you should back up your database to another drive. I use <code class="code docutils literal notranslate"><span class="pre">rsync</span></code> for this purpose – something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rsync</span> <span class="o">-</span><span class="n">a</span> <span class="o">~/</span><span class="n">wax</span><span class="o">/</span><span class="n">recordings</span><span class="o">/</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">nas</span><span class="o">/</span><span class="n">wax</span><span class="o">/</span><span class="n">recordings</span><span class="o">/</span>
</pre></div>
</div>
<p>assuming that you have a NAS mounted at <code class="code docutils literal notranslate"><span class="pre">/mnt/nas</span></code>. Put this command in <code class="code docutils literal notranslate"><span class="pre">crontab</span></code> so that it runs automatically every day.</p>
</section>
<section id="config-files-config-directory">
<h2>Config files (.config directory)<a class="headerlink" href="#config-files-config-directory" title="Link to this heading">¶</a></h2>
<ul class="simple" id="transfer-folder">
<li><p><strong>transfer</strong>: The transfer folder is used to transfer files to (<a class="reference internal" href="edit.html#file-mode"><span class="std std-ref">Import</span></a>) Wax. This folder may contain subfolders if you choose to create them. Note that when the <a class="reference internal" href="edit.html#file-chooser"><span class="std std-ref">file chooser</span></a> tells you that you are in the root folder, this is the folder you are actually in. Use this folder to import sound files, or to import <a class="reference internal" href="edit.html#coverart-button"><span class="std std-ref">images</span></a> or <a class="reference internal" href="edit.html#documents"><span class="std std-ref">documents</span></a>.</p></li>
<li><p><strong>queuefiles</strong>: Pickles of pixbufs of the primary image and play queue entries.</p></li>
<li><p><strong>log</strong>: Log files with tracebacks of uncaught errors.</p></li>
</ul>
</section>
<section id="automatic-tagging">
<h2>Automatic tagging<a class="headerlink" href="#automatic-tagging" title="Link to this heading">¶</a></h2>
<p>When you rip a CD, Wax automatically tags the sound files. If you ever copy your sound files to another platform (e.g., your smartphone), the player that you use on that platform will display the tags. Obviously, tags cannot contain all of the rich metadata available in Wax, but they can provide information sufficient to identify recordings. Unfortunately, standards for tags (ID3 notwithstanding) and for reassembling individual tracks into complete recordings are poor to nonexistent, so do not expect results as coherent as those provided by Wax.</p>
<p>To tag sound files, Wax must convert its rich metadata to tags. The algorithms for performing this conversion reside in the module widgets.edit.left.tagextractors. In Wax, every genre generally has its own set of metadata keys. Accordingly, there must be a tag extractor for each genre. I provide a set of extractors for the genres that I provide with Wax. If you define your own genres and you want Wax to tag sound files corresponding to recordings in those genres, you must create your own extractors. Use the ones that I provided as models. You might also want to fiddle with the extractors that I provided. Your player might recognize more tags than mine. If so, you can add code to convert other Wax metadata to those tags. If you do not specify an extractor for a new genre, Wax politely declines to tag sound files in that genre.</p>
<p>The dictionary self.metadata_long has metadata for both primary and secondary in their long form. self.metadata_short has metadata for primary in their short form. self.tags is the dictionary that contains all the tags for specifying the work. The call special method returns values for the track titles. The generic extractors are simple mappings from one Wax metadata key to one tag. Other extractors allow you to specify more complicated mappings involving multiple Wax keys going to one tag.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="select.html">Select Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="play.html">Play Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="edit.html">Edit Mode</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#unicode">Unicode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#completers-files">Completers files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-organization">Database organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#disk-mounts">Disk mounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#config-files-config-directory">Config files (.config directory)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automatic-tagging">Automatic tagging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="waxconfig.html">WaxConfig</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2024, Jeffrey Barish.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/appendix.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>